#let g(body) = table.cell(body, fill: green.lighten(90%))
#let r(body) = table.cell(body, fill: red.lighten(90%))

== Завдання 1

Дано 15 предметів. Максимально допустима місткість рюкзака $P = 25$. Виконати 3 ітерації ГА.

#table(
  align: horizon,
  columns: 16,
  inset: 0.75em,
  ..([Предмет], [1], [2], [3], [4], [5], [6], [7], [8], [9], [10], [11], [12], [13], [14], [15]),
  ..([Вартість], [4], [5], [8], [5], [1], [4], [5], [3], [7], [5], [3], [1], [6], [9], [6]),
  ..([Вага], [2], [4], [4], [3], [2], [1], [2], [2], [4], [1], [1], [2], [2], [3], [2]),
)

/ Вибір батьків: пропорційна селекція

#figure(table(
  align: horizon,
  columns: 3,
  inset: 0.75em,
  table.header([№], [1-й], [2-й]),
  ..([Ітерація 1], [0.128], [0.932]),
  ..([Ітерація 2], [0.816], [0.093]),
  ..([Ітерація 3], [0.347], [0.946]),
), caption: [Генератор ПВЧ])

/ Оператор схрещування: Рівномірний оператор та його інверсія ($p$ та $1 - p$), створює 2 нащадки, ген обирається відповідно до значень заданого
  генератора ПВЧ.

#table(
  align: horizon,
  columns: 15,
  inset: 0.75em,
  [0.50],
  [0.81],
  [0.81],
  [0.72],
  [0.43],
  [0.25],
  [0.27],
  [0.65],
  [0.88],
  [0.09],
  [0.90],
  [0.85],
  [0.55],
  [0.89],
  [0.06],
)

/ Оператор мутації: На парних ітераціях змінюємо випадковий ген на протилежний.

/ Оператор локального покращенння: відсутній

=== Ітерація 1

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [1], [0], [0], [0], [0], [1], [0], [0], [0], [1], [1], [0], [0], [0], [1], [Відповідь]),
    ..([Вартість], [4], [0], [0], [0], [0], [4], [0], [0], [0], [5], [3], [0], [0], [0], [6], [$22 / 121 = 0.18$]),
    ..([Вага], [4], [0], [0], [0], [0], [4], [0], [0], [0], [5], [3], [0], [0], [0], [6], g[$7 <= 25$]),
  ),
  caption: $S_1$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [1], [0], [0], [0], [1], [1], [0], [0], [0], [1], [1], [0], [0], [0], [1], [Відповідь]),
    ..([Вартість], [4], [0], [0], [0], [1], [4], [0], [0], [0], [5], [3], [0], [0], [0], [6], [$23 / 121 = 0.19$]),
    ..([Вага], [2], [0], [0], [0], [2], [1], [0], [0], [0], [1], [1], [0], [0], [0], [2], g[$9 <= 25$]),
  ),
  caption: $S_2$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [0], [0], [1], [0], [0], [1], [0], [0], [0], [1], [1], [0], [1], [0], [Відповідь]),
    ..([Вартість], [0], [0], [0], [5], [0], [0], [5], [0], [0], [0], [3], [1], [0], [9], [0], [$23 / 121 = 0.19$]),
    ..([Вага], [0], [0], [0], [5], [0], [0], [5], [0], [0], [0], [3], [1], [0], [9], [0], g[$11 <= 25$]),
  ),
  caption: $S_3$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [1], [1], [0], [0], [0], [0], [0], [0], [0], [0], [1], [1], [0], [0], [Відповідь]),
    ..([Вартість], [0], [5], [8], [0], [0], [0], [0], [0], [0], [0], [0], [1], [6], [0], [0], [$20 / 121 = 0.17$]),
    ..([Вага], [0], [4], [4], [0], [0], [0], [0], [0], [0], [0], [0], [2], [2], [0], [0], g[$12 <= 25$]),
  ),
  caption: $S_4$,
)

#figure(table(
  align: horizon,
  columns: 17,
  inset: 0.75em,
  ..([Предмет], [0], [0], [1], [0], [0], [0], [0], [1], [1], [0], [0], [0], [1], [1], [0], [Відповідь]),
  ..([Вартість], [0], [0], [8], [0], [0], [0], [0], [3], [7], [0], [0], [0], [6], [9], [0], [$33/121 = 0.27$]),
  ..([Вага], [0], [0], [4], [0], [0], [0], [0], [2], [4], [0], [0], [0], [2], [3], [0], g[$15 <= 25$]),
), caption: $S_5$)

#figure(table(
  align: horizon,
  columns: 6,
  inset: 0.75em,
  ..([Проміжок], [0.00], [0.37], [0.56], [0.73], [1.00]),
  ..([Обраний], g[+], r[-], r[-], r[-], g[+]),
), caption: [Нащадок])

#figure(table(
  align: horizon,
  columns: 17,
  inset: 0.75em,
  ..([Предмет], [1], [0], [0], [0], [0], [0], [0], [0], [0], [0], [1], [0], [0], [0], [0], [Відповідь]),
  ..([Мутація], [1], [0], [0], [1], [0], [0], [0], [0], [0], [0], [1], [0], [0], [0], [0], [-]),
  ..([Вартість], [4], [0], [0], [5], [0], [0], [0], [0], [0], [0], [3], [0], [0], [0], [0], r[12]),
  ..([Вага], [2], [0], [0], [3], [0], [0], [0], [0], [0], [0], [1], [0], [0], [0], [0], g[$6 <= 25$]),
), caption: [Нехай нащадок 1 мутує 4 гени])

#figure(table(
  align: horizon,
  columns: 17,
  inset: 0.75em,
  ..([Предмет], [0], [0], [1], [0], [0], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [Відповідь]),
  ..([Мутація], [0], [1], [1], [0], [0], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [-]),
  ..([Вартість], [0], [5], [8], [0], [0], [4], [0], [3], [7], [5], [0], [0], [6], [9], [6], g[53]),
  ..([Вага], [0], [4], [4], [0], [0], [1], [0], [2], [4], [1], [0], [0], [2], [3], [2], g[$23 <= 25$]),
), caption: [Нехай нащадок 2 мутує 2 гени])

=== Ітерація 2

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [1], [0], [0], [0], [0], [1], [0], [0], [0], [1], [1], [0], [0], [0], [1], [Відповідь]),
    ..([Вартість], [4], [0], [0], [0], [0], [4], [0], [0], [0], [5], [3], [0], [0], [0], [6], [$22 / 154 = 0.14$]),
    ..([Вага], [2], [0], [0], [0], [0], [1], [0], [0], [0], [1], [1], [0], [0], [0], [2], g[$7 <= 25$]),
  ),
  caption: $S_1$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [1], [0], [0], [0], [1], [1], [0], [0], [0], [1], [1], [0], [0], [0], [1], [Відповідь]),
    ..([Вартість], [4], [0], [0], [0], [1], [4], [0], [0], [0], [5], [3], [0], [0], [0], [6], [$23 / 154 = 0.15$]),
    ..([Вага], [2], [0], [0], [0], [2], [1], [0], [0], [0], [1], [1], [0], [0], [0], [2], g[$9 <= 25$]),
  ),
  caption: $S_2$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [0], [0], [1], [0], [0], [1], [0], [0], [0], [1], [1], [0], [1], [0], [Відповідь]),
    ..([Вартість], [0], [0], [0], [5], [0], [0], [5], [0], [0], [0], [3], [1], [0], [9], [0], [$23 / 154 = 0.15$]),
    ..([Вага], [0], [0], [0], [3], [0], [0], [2], [0], [0], [0], [1], [2], [0], [3], [0], g[$11 <= 25$]),
  ),
  caption: $S_3$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [1], [1], [0], [0], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [Відповідь]),
    ..([Вартість], [0], [5], [8], [0], [0], [4], [0], [3], [7], [5], [0], [0], [6], [9], [6], [$53 / 154 = 0.34$]),
    ..([Вага], [0], [4], [4], [0], [0], [1], [0], [2], [4], [1], [0], [0], [2], [3], [2], g[$23 <= 25$]),
  ),
  caption: $S_4$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [0], [1], [0], [0], [0], [0], [1], [1], [0], [0], [0], [1], [1], [0], [Відповідь]),
    ..([Вартість], [0], [0], [8], [0], [0], [0], [0], [3], [7], [0], [0], [0], [6], [9], [0], [$33 / 154 = 0.21$]),
    ..([Вага], [0], [0], [4], [0], [0], [0], [0], [2], [4], [0], [0], [0], [2], [3], [0], g[$15 <= 25$]),
  ),
  caption: $S_5$,
)

#figure(table(
  align: horizon,
  columns: 6,
  inset: 0.75em,
  ..([Проміжок], [0.14], [0.29], [0.44], [0.79], [1.00]),
  ..([Обраний], g[+], r[-], r[-], r[-], g[+]),
), caption: [Нащадок])

#figure(table(
  align: horizon,
  columns: 17,
  inset: 0.75em,
  ..([Предмет], [0], [0], [1], [0], [0], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [Відповідь]),
  ..([Мутація], [0], [0], [1], [0], [0], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [-]),
  ..([Вартість], [0], [0], [8], [0], [0], [4], [0], [3], [7], [5], [0], [0], [6], [9], [6], g[48]),
  ..([Вага], [0], [0], [4], [0], [0], [1], [0], [2], [4], [1], [0], [0], [2], [3], [2], g[$19 <= 25$]),
), caption: [Нехай мутація для нащадка 1 відсутня])

#figure(table(
  align: horizon,
  columns: 17,
  inset: 0.75em,
  ..([Предмет], [1], [0], [0], [0], [0], [0], [0], [0], [0], [0], [1], [0], [0], [0], [0], [Відповідь]),
  ..([Мутація], [1], [0], [0], [0], [0], [0], [0], [0], [0], [0], [1], [0], [0], [0], [0], [-]),
  ..([Вартість], [2], [0], [0], [0], [0], [0], [0], [0], [0], [0], [1], [0], [0], [0], [0], r[7]),
  ..([Вага], [4], [0], [0], [0], [0], [0], [0], [0], [0], [0], [3], [0], [0], [0], [0], g[$3 <= 25$]),
), caption: [Нехай мутація для нащадка 2 відсутня])

=== Ітерація 3

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [0], [1], [0], [0], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [Відповідь]),
    ..([Вартість], [0], [0], [8], [0], [0], [4], [0], [3], [7], [5], [0], [0], [6], [9], [6], [$48 / 180 = 0.27$]),
    ..([Вага], [0], [0], [4], [0], [0], [1], [0], [2], [4], [1], [0], [0], [2], [3], [2], g[$19 <= 25$]),
  ),
  caption: $S_1$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [0], [1], [0], [0], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [Відповідь]),
    ..([Вартість], [4], [0], [0], [0], [1], [4], [0], [0], [0], [5], [3], [0], [0], [0], [6], [$23 / 180 = 0.13$]),
    ..([Вага], [2], [0], [0], [0], [2], [1], [0], [0], [0], [1], [1], [0], [0], [0], [2], g[$9 <= 25$]),
  ),
  caption: $S_2$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [0], [0], [1], [0], [0], [1], [0], [0], [0], [1], [1], [0], [1], [0], [Відповідь]),
    ..([Вартість], [0], [0], [0], [5], [0], [0], [5], [0], [0], [0], [3], [1], [0], [9], [0], [$23 / 180 = 0.13$]),
    ..([Вага], [0], [0], [0], [3], [0], [0], [2], [0], [0], [0], [1], [2], [0], [3], [0], g[$11 <= 25$]),
  ),
  caption: $S_3$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [1], [1], [0], [0], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [Відповідь]),
    ..([Вартість], [0], [5], [8], [0], [0], [4], [0], [3], [7], [5], [0], [0], [6], [9], [6], [$53 / 180 = 0.29$]),
    ..([Вага], [0], [4], [4], [0], [0], [1], [0], [2], [4], [1], [0], [0], [2], [3], [2], g[$23 <= 25$]),
  ),
  caption: $S_4$,
)

#figure(
  table(
    align: horizon,
    columns: 17,
    inset: 0.75em,
    ..([Предмет], [0], [0], [1], [0], [0], [0], [0], [1], [1], [0], [0], [0], [1], [1], [0], [Відповідь]),
    ..([Вартість], [0], [0], [8], [0], [0], [0], [0], [3], [7], [0], [0], [0], [6], [9], [0], [$33 / 180 = 0.18$]),
    ..([Вага], [0], [0], [4], [0], [0], [0], [0], [2], [4], [0], [0], [0], [2], [3], [0], g[$15 <= 25$]),
  ),
  caption: $S_5$,
)

#figure(table(
  align: horizon,
  columns: 6,
  inset: 0.75em,
  ..([Проміжок], [0.27], [0.39], [0.52], [0.81], [1.00]),
  ..([Обраний], r[-], g[+], r[-], g[+], r[-]),
), caption: [Нащадок])

#figure(table(
  align: horizon,
  columns: 17,
  inset: 0.75em,
  ..([Предмет], [1], [0], [0], [0], [0], [1], [0], [0], [0], [1], [1], [0], [0], [0], [1], [Відповідь]),
  ..([Мутація], [0], [0], [0], [0], [0], [1], [0], [0], [0], [1], [1], [0], [0], [0], [1], [-]),
  ..([Вартість], [4], [0], [0], [5], [0], [0], [0], [0], [0], [0], [3], [0], [0], [0], [0], r[18]),
  ..([Вага], [0], [0], [0], [0], [0], [1], [0], [0], [0], [1], [1], [0], [0], [0], [2], g[$5 <= 25$]),
), caption: [Нехай нащадок 1 мутує 1 гени])

#figure(table(
  align: horizon,
  columns: 17,
  inset: 0.75em,
  ..([Предмет], [0], [1], [1], [0], [1], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [Відповідь]),
  ..([Мутація], [0], [0], [1], [0], [1], [1], [0], [1], [1], [1], [0], [0], [1], [1], [1], [-]),
  ..([Вартість], [0], [5], [8], [0], [0], [4], [0], [3], [7], [5], [0], [0], [6], [9], [6], g[49]),
  ..([Вага], [0], [0], [4], [0], [2], [1], [0], [2], [4], [1], [0], [0], [2], [3], [2], g[$21 <= 25$]),
), caption: [Нехай нащадок 2 мутує 2 гени])

=== Відповідь

Рекорд вартість 53